import commonjs from "rollup-plugin-commonjs";
import noderesolve from "rollup-plugin-node-resolve";
import uglify from "rollup-plugin-uglify";

const definition = require("./package.json");

export default {
  input: "src/index.js",
  plugins: [
    noderesolve(),
    commonjs(),
    uglify({
      output: {
        preamble: `// ${definition.homepage} Version ${definition.version}. Copyright 2018 Observable, Inc.
// https://github.com/mapbox/delaunator Version ${require("delaunator/package.json").version}. Copyright 2017, Mapbox, Inc.`
      }
    })
  ],
  output: {
    file: `dist/${definition.name}.min.js`,
    format: "umd",
    name: definition.name
  }
};
